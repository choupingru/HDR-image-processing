#:kivy 1.8.0

<HomePage>
	FloatLayout:
		
		pos : self.pos

		Button:
			text:"Start"
			size_hint: .1 , .1
			pos_hint: {'x' : .85, 'y': .85}
			on_press: 
				root.manager.current='start'
				root.manager.transition.direction = 'left'
		Button:
			text:"About"
			size_hint: .1 , .1
			pos_hint: {'x' : .05, 'y': .85}
			on_press: 
				root.manager.current='about'
				root.manager.transition.direction = 'right'
						
		Image:
			size_hint: (1, 1)
			source:"homepage.png"


<Start>
	id : Start
	GridLayout:
		rows:9
		cols:1
		
		
		Button:
			size_hint_y:None
			height:50
			text:"Homepage"
			on_press: 
				root.manager.current='homepage'
				root.manager.transition.direction = 'right'
	
		GridLayout:
			rows:1
			cols:3
			padding:10
			size_hint_y:None
			height:60
			TextInput:
				id:firstExpose
				text:"First Exposure time"
				mutiline:False
			TextInput:
				id:secondExpose
				text:"Second Exposure time"
				mutiline:False
			TextInput:
				id:thirdExpose
				text:"Second Exposure time"
				mutiline:False
		GridLayout:
			rows:1
			cols:3
			size_hint_y:None
			height:400
			Image:
				id:first
				source:""
			Image:
				id:second
				source:""
			Image:
				id:third
				source:""
	    GridLayout:
	    	rows:1
	    	cols:3
	    	size_hint_y:None
	    	height:80
	    	padding:10
			spacing:5
	        Button:
				text : "open"
				on_press : Start.show_load(img_id="first")
			Button:
				text : "open"
				on_press : Start.show_load(img_id="second")
			Button:
				text : "open"
				on_press : Start.show_load(img_id="third")
		GridLayout:
			rows:1
			cols:3
			padding:10
			size_hint_y:None
			height:60
			TextInput:
				id:fourthExpose
				text:"Fourth Exposure time"
				mutiline:False
			TextInput:
				id:fifthExpose
				text:"Fifth Exposure time"
				mutiline:False
			TextInput:
				id:sixthExpose
				text:"Sixth Exposure time"
				mutiline:False
		GridLayout:
			rows:1
			cols:3
			size_hint_y:None
			height:400
			Image:
				id:fourth
				source:""
			Image:
				id:fifth
				source:""
			Image:
				id:sixth
				source:""
	    GridLayout:
	    	rows:1
	    	cols:3
	    	size_hint_y:None
	    	height:80
	    	padding:10
			spacing:5
	        Button:
				text : "open"
				on_press : Start.show_load(img_id="fourth")
			Button:
				text : "open"
				on_press : Start.show_load(img_id="fifth")
			Button:
				text : "open"
				on_press : Start.show_load(img_id="sixth")
		GridLayout:
			rows:1
			cols:2
			size_hint_y:None
			height:80
			TextInput:
				id:smooth
				text:"smoothness"
				mutiline:False
			Button:
				text : "GET G-function"
				on_press:
					root.getG([root.ids.first.source, root.ids.second.source, root.ids.third.source, root.ids.fourth.source, root.ids.fifth.source, root.ids.sixth.source], [root.ids.firstExpose.text, root.ids.secondExpose.text, root.ids.thirdExpose.text, root.ids.fourthExpose.text, root.ids.fifthExpose.text, root.ids.sixthExpose.text], root.ids.smooth.text)
					root.manager.current='ggraph'
					root.manager.transition.direction = 'left'
					
<Ggraph>
	GridLayout:
		rows:2
		cols:1
	
		Button:
			size_hint_y:None
			height:50
			text:"Start"
			on_press: 
				root.manager.current='start'
				root.manager.transition.direction = 'right'
		
		GridLayout:
			id:gfunction
			rows:1
			cols:1
			padding:10
			spacing:5
			size_hint_y:None
			height:300

<About>
	GridLayout:
		rows : 1
		row_force_default:True
		row_default_height:50
		padding:10
		spacing:10
		Button:
			text:"Homepage"
			size_hint: .1 , .1
			pos_hint: {'x' : .85, 'y': .85}
			on_press: 
				root.manager.current='homepage'
				root.manager.transition.direction = 'left'
	BoxLayout:
		orientation:'horizontal'
		Image:
			size_hint: (1, 1)
			source:"about_1.png"

		BoxLayout:
			orientation:'vertical'
			Label:
				markup:True
				text:"Study at : [b][color=ff00ff]National Taiwan University[/color][/b]"
			Label:
				markup:True
				text:"Tools : [b][color=ff00ff]Kivy[/color][/b]"
			Label:
				markup:True
				text:"Version : [b][color=ff00ff]1.0.0[/color][/b]"
		Image:
			size_hint: (1, 1)
			source:"about_2.png"



<LoadDialog>
	BoxLayout:
		size : root.size
		pos : root.pos
		orientation:'vertical'
		FileChooserListView:
			id : filechooser
			path: root.getPath()

		BoxLayout:
			size_hint_y:None
			height:30
			Button:				
				text:"Cancel"
				on_press:root.cancel()
			Button:
				text:"Load"
				on_press:root.load(root.img_id, filechooser.path, filechooser.selection)















